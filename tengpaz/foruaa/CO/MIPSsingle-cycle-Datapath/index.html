
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Tengpaz">
      
      
        <link rel="canonical" href="https://qinaida.cn/tengpaz/foruaa/CO/MIPSsingle-cycle-Datapath/">
      
      
        <link rel="prev" href="../Machine_Language3/">
      
      
        <link rel="next" href="../lab/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>MIPS单周期数据通路 - Foruaa-北航信息类学习纸杯指北 UP</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mips" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Foruaa-北航信息类学习纸杯指北 UP" class="md-header__button md-logo" aria-label="Foruaa-北航信息类学习纸杯指北 UP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Foruaa-北航信息类学习纸杯指北 UP
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MIPS单周期数据通路
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="cyan"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="cyan"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Tengpaz/tengpaz.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Tengpaz.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  主页

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        
  
    
  
  介绍

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../frame/" class="md-tabs__link">
        
  
    
  
  学习大纲

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../%E5%85%9A%E5%91%98/%E8%80%83%E8%AF%95%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/" class="md-tabs__link">
          
  
  入党

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../physics/dynamics/forth/" class="md-tabs__link">
          
  
  基础物理学A

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../Tools/" class="md-tabs__link">
          
  
  CO-计算机组成原理

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../discrete_mathematics/first/first/" class="md-tabs__link">
          
  
  离散数学1

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../PP/announcement/" class="md-tabs__link">
          
  
  程序设计实践

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/%E5%89%8D%E8%A8%80/" class="md-tabs__link">
          
  
  算法分析与设计

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../discrete_mathematics/second/six/" class="md-tabs__link">
          
  
  离散数学2

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../physics/lab/anouncement/" class="md-tabs__link">
          
  
  基础物理实验1

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../aeronautics_astronautics/pre/" class="md-tabs__link">
          
  
  航概

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Foruaa-北航信息类学习纸杯指北 UP" class="md-nav__button md-logo" aria-label="Foruaa-北航信息类学习纸杯指北 UP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Foruaa-北航信息类学习纸杯指北 UP
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Tengpaz/tengpaz.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Tengpaz.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    主页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    介绍
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frame/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    学习大纲
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    入党
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            入党
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%85%9A%E5%91%98/%E8%80%83%E8%AF%95%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    校党校入学考试填空复习
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%85%9A%E5%91%98/%E6%A0%A1%E5%85%9A%E6%A0%A1%E8%80%83%E8%AF%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    校党校入学考试填空复习答案
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%85%9A%E5%91%98/%E6%A0%A1%E5%85%9A%E6%A0%A1%E5%85%A5%E5%AD%A6%E8%80%83%E8%AF%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    校党校入学考试知识点
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    基础物理学A
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            基础物理学A
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../physics/dynamics/forth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    动能与势能-机械能变化定理与机械能守恒
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../physics/dynamics/fifth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    角动量变化定理与角动量守恒
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    CO-计算机组成原理
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            CO-计算机组成原理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    工具介绍与下载
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Logisim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logisim数字电路
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Machine_Language3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    机器语言3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    MIPS单周期数据通路
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    MIPS单周期数据通路
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      计算机的五大组成部分
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      处理器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mips-lite" class="md-nav__link">
    <span class="md-ellipsis">
      MIPS-lite 指令子集
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rtl" class="md-nav__link">
    <span class="md-ellipsis">
      寄存器传输语言（RTL）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpu" class="md-nav__link">
    <span class="md-ellipsis">
      CPU开发过程概述
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cpu_1" class="md-nav__link">
    <span class="md-ellipsis">
      单周期CPU设计模型
    </span>
  </a>
  
    <nav class="md-nav" aria-label="单周期CPU设计模型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      第一步 指令集功能需求
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      数据通路基础部件建模
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据通路基础部件建模">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mux" class="md-nav__link">
    <span class="md-ellipsis">
      MUX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      存储元件：寄存器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      数据通路基础部件建模
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据通路基础部件建模">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pc" class="md-nav__link">
    <span class="md-ellipsis">
      PC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#npcjaljr" class="md-nav__link">
    <span class="md-ellipsis">
      NPC（增加对jal和jr的支持）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      寄存器堆
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      指令存储器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      数据存储器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alu" class="md-nav__link">
    <span class="md-ellipsis">
      ALU
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      组装数据通路
    </span>
  </a>
  
    <nav class="md-nav" aria-label="组装数据通路">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      组装
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计组实验部分(计院)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../theory21/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计组理论及实验学习部分(软院)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    离散数学1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            离散数学1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discrete_mathematics/first/first/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第一章 逻辑语言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discrete_mathematics/first/second/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第二章 命题逻辑语义
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discrete_mathematics/first/third/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第三章 谓词逻辑语义
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discrete_mathematics/first/forth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第四章 逻辑公理系统
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discrete_mathematics/first/fifth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第五章 元定理
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    程序设计实践
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            程序设计实践
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PP/announcement/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    课程通知
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PP/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础内容
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PP/Soft-Summer-2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    引导资料
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PP/Unity2D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unity2D
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    算法分析与设计
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            算法分析与设计
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/%E5%89%8D%E8%A8%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/STL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    STL容器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/Software/pre/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    算法理论-软院
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/Software/preface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    绪论
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/Software/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    引入
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/Software/framework/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    算法分析框架
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/Software/growth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    函数增长性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/Software/resurrence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    分治
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/Software/probabilistic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    概率
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/Software/heapsort/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    堆排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/Software/medians-and-order-statics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    中位数和阶数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/Software/sorting-and-order-statistics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    排序和阶数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/Software/sorting-in-linear-time/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线性时间复杂度排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/ComputerScience/pre/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    算法理论-计院
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    离散数学2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            离散数学2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discrete_mathematics/second/six/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第六章 集合
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discrete_mathematics/second/seven/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第七章 关系
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    基础物理实验1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            基础物理实验1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../physics/lab/anouncement/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    通知文件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../physics/lab/lesson1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    绪论
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../physics/lab/lab8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    实验八-电位差计及其应用
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    航概
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            航概
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aeronautics_astronautics/pre/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aeronautics_astronautics/first/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第一章
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      计算机的五大组成部分
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      处理器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mips-lite" class="md-nav__link">
    <span class="md-ellipsis">
      MIPS-lite 指令子集
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rtl" class="md-nav__link">
    <span class="md-ellipsis">
      寄存器传输语言（RTL）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpu" class="md-nav__link">
    <span class="md-ellipsis">
      CPU开发过程概述
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cpu_1" class="md-nav__link">
    <span class="md-ellipsis">
      单周期CPU设计模型
    </span>
  </a>
  
    <nav class="md-nav" aria-label="单周期CPU设计模型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      第一步 指令集功能需求
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      数据通路基础部件建模
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据通路基础部件建模">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mux" class="md-nav__link">
    <span class="md-ellipsis">
      MUX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      存储元件：寄存器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      数据通路基础部件建模
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据通路基础部件建模">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pc" class="md-nav__link">
    <span class="md-ellipsis">
      PC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#npcjaljr" class="md-nav__link">
    <span class="md-ellipsis">
      NPC（增加对jal和jr的支持）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      寄存器堆
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      指令存储器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      数据存储器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alu" class="md-nav__link">
    <span class="md-ellipsis">
      ALU
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      组装数据通路
    </span>
  </a>
  
    <nav class="md-nav" aria-label="组装数据通路">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      组装
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="mips">MIPS单周期数据通路</h1>
<h2 id="_1">概述</h2>
<h3 id="_2">计算机的五大组成部分</h3>
<ul>
<li>控制器</li>
<li>Datapath</li>
<li>内存</li>
<li>输入</li>
<li>输出</li>
</ul>
<pre><code>|---------------------------------------------------------|
|                        Computer                         |
|  |-------------|  |----------------|  |--------------|  |
|  |  Processor  |  |     Memory     |  |    Devices   |  |
|  | |---------| |  |                |  | |----------| |  |
|  | | Control | |  |                |  | |   Input  | |  |
|  | |(&quot;brain&quot;)| |  |                |  | |----------| |  |
|  | |---------| |  |                |  |              |  |
|  | |---------| |  |                |  | |----------| |  |
|  | | Datapath| |  |                |  | |  Output  | |  |
|  | |(&quot;brawn&quot;)| |  |                |  | |----------| |  |
|  | |---------| |  |                |  |              |  |
|  |-------------|  |----------------|  |--------------|  |
|---------------------------------------------------------|
</code></pre>
<h3 id="_3">处理器</h3>
<p><strong>处理器（CPU）</strong>：执行寄存器中的指令</p>
<ul>
<li>Datapath:处理器的一部分，包含处理器执行操作必要的硬件</li>
<li>控制器：处理器的一部分，告诉Datapath需要做什么</li>
</ul>
<h3 id="mips-lite">MIPS-lite 指令子集</h3>
<ul>
<li>ADDU and SUBU<ul>
<li><code>addu rd, rs, rt</code></li>
<li><code>subu rd, rs, rt</code></li>
</ul>
</li>
<li>OR Immediate:<ul>
<li><code>ori rt, rs, imm16</code></li>
</ul>
</li>
<li>LOAD and STORE Word<ul>
<li><code>lw rt, rs, imm16</code></li>
<li><code>sw rt, rs, imm16</code></li>
</ul>
</li>
<li>BRANCH:<ul>
<li><code>beq rs, rt, imm16</code></li>
</ul>
</li>
</ul>
<h3 id="rtl">寄存器传输语言（RTL）</h3>
<ul>
<li>均以读取指令开始：<ul>
<li>R-格式：<code>{op, rs, rt, rd, shamt, funct} &lt;- MEM[ PC ]</code></li>
<li>I-格式：<code>{op, rs, rt, imm16} &lt;- MEM[ PC ]</code></li>
</ul>
</li>
<li>RTL给了指令的含义：<ul>
<li><code>ADDU R[rd] &lt;- R[rs] + R[rt]; PC &lt;- PC + 4</code></li>
<li><code>SUBU R[rd] &lt;- R[rs] – R[rt]; PC &lt;- PC + 4</code></li>
<li><code>ORI R[rt] &lt;- R[rs] | zero_ext(imm16); PC &lt;- PC + 4</code></li>
<li><code>LOAD R[rt] &lt;- MEM[R[rs] + sign_ext(imm16)]; PC &lt;- PC + 4</code></li>
<li><code>STORE MEM[R[rs] + sign_ext(imm16)] &lt;- R[rt]; PC &lt;- PC + 4</code></li>
<li><code>BEQ if ( R[rs] == R[rt] )</code>
    <code>then PC &lt;- PC + 4 + (sign_ext(imm16) || 00)</code>??????????
    <code>else PC &lt;- PC + 4</code></li>
</ul>
</li>
</ul>
<h3 id="cpu">CPU开发过程概述</h3>
<ol>
<li>分析每条指令的RTL，梳理和总结出数据通路的设计需求</li>
<li>选择恰当的数据通路功能部件</li>
<li>组装数据通路根据指令RLT，分析并建立功能部件间的正确连接关系</li>
<li>根据指令RTL，分析功能部件应执行的功能，反推相应的控制信号取值 </li>
<li>生成控制器<ul>
<li>构造控制信号真值表，然后推导出控制信号的最简表达式</li>
<li>根据最简表达式构造门电路</li>
</ul>
</li>
</ol>
<h2 id="cpu_1">单周期CPU设计模型</h2>
<h3 id="_4">第一步 指令集功能需求</h3>
<ul>
<li>存储器(MEM)<ul>
<li>指令存储器 &amp; 数据存储器(分离的存储器模拟了<code>cache</code>结构)</li>
<li>指令存储器只有读取数据（取指令）</li>
<li>数据存储器既有读取数据又有写入数据</li>
</ul>
</li>
<li>寄存器堆(32个32位寄存器)<ul>
<li>能同时读出<code>rs</code>和<code>rt</code>两个寄存器</li>
<li>可以写数据至<code>rt</code>或<code>rd</code>寄存器</li>
</ul>
</li>
<li>PC</li>
<li>下一条指令地址的计算单元</li>
<li>扩展立即数：符号/零扩展</li>
<li>执行运算的计算单元<ul>
<li><code>Add/Sub/OR</code>等</li>
<li>执行beq的比较操作</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>中文</th>
<th>英文</th>
<th>缩写</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据存储器</td>
<td>Data Memory</td>
<td>DM</td>
</tr>
<tr>
<td>指令存储器</td>
<td>Instruction Memory</td>
<td>IM</td>
</tr>
<tr>
<td>寄存器堆</td>
<td>Register File</td>
<td>RF</td>
</tr>
<tr>
<td>程序计数器</td>
<td>Program Counter</td>
<td>PC</td>
</tr>
<tr>
<td>下指令地址</td>
<td>Next PC</td>
<td>NPC</td>
</tr>
<tr>
<td>扩展单元</td>
<td>Extender</td>
<td>EXT</td>
</tr>
<tr>
<td>算数逻辑单元</td>
<td>Arithmetic Logic Unit</td>
<td>ALU</td>
</tr>
<tr>
<td>#### 指令执行的主要步骤</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>取指令、译码/读操作数、执行、访存、回写
<img alt="MIPS单周期数据通路指令执行" src="../MIPS%E5%8D%95%E5%91%A8%E6%9C%9F%E6%95%B0%E6%8D%AE%E9%80%9A%E8%B7%AF%E6%8C%87%E4%BB%A4%E6%89%A7%E8%A1%8C.png" />
1. 取指令
    - 功能1：PC驱动IM输出指令
    - 功能2：PC驱动NPC计算下一个PC值
2. 译码/读操作数
    - 功能1：IM驱动控制器（图中未画）分析指令的<code>opcode</code>和<code>funct</code>域
    - 功能2：IM驱动RF读出2个寄存器值
3. 执行
    - RF输出的寄存器值驱动ALU完成相应的计算
        - 算数运算(+，-，*，/)，移位，逻辑(&amp;,|)，比较(slt,\=\=)
        - 同时还承担计算<code>lw</code>和<code>sw</code>的地址（复用运算器）
4. 访存
    - <code>lw</code>：DM输入地址后，就输出数据
    - <code>sw</code>：DM有2个输入，地址&amp;要写入的数据
    - ==只有lw和sw指令在该环节有实际操作，其他指令不涉及该环节==
5. 回写
    - 操作：写ALU计算结果或数据存储器读出的数据至寄存器堆
    - <code>beq、jal、jr、sw</code>不涉及该环节</p>
<h2 id="_5">数据通路基础部件建模</h2>
<h3 id="mux">MUX</h3>
<p><strong>复用器Multiplexer(MUX)</strong>：选择N个输入中的一个与输出相连接，有一个<span class="arithmatex">\(\log_2N\)</span>位的控制信号作为选择信号输入。</p>
<ul>
<li>1位2选1MUX表达式：<code>Y = !S &amp; D0 + S &amp; D1</code></li>
<li>
<p>1位4选1MUX表达式：
    <code>Y = !S0 &amp; !S1 &amp; D0 +</code>
        <code>!S0 &amp; S1 &amp; D1 +</code>
        <code>S0 &amp; !S1 &amp; D2 +</code>
        <code>S0 &amp; S1 &amp; D3</code></p>
</li>
<li>
<p>32位4选1MUX表达式：</p>
<ul>
<li>就是32个4选1MUX</li>
<li>Verilog表达式为
    <code>assign Y = !S0 &amp; !S1 &amp; D0 +</code>
        <code>!S0 &amp; S1 &amp; D1 +</code>
        <code>S0 &amp; !S1 &amp; D2 +</code>
        <code>S0 &amp; S1 &amp; D3;</code></li>
</ul>
</li>
</ul>
<h3 id="_6">存储元件：寄存器</h3>
<p>有一个N位数据输入和N位的数据输出，一个写入激活输入信号</p>
<p>写入激活：
- 如果是0，则输出不会改变
- 如果是1，则输入将在时钟沿（CLK信号输入由0变为1时）时复制到输出</p>
<p>1位寄存器</p>
<pre><code class="language-Verilog">module d_ff(d, q, clk);
    input d, clk;
    output q;

    reg r;
    assign q = r;
    always @(posedge clk)
        r &lt;= d;
endmodule
</code></pre>
<p>1位写使能D寄存器</p>
<pre><code class="language-Verilog">module d_ff(d, we, q, clk);
    input d, we;
    output q;
    input clk;

    reg r;

    assign q = r;
    always @(posedge clk)
        if (we)
            r &lt;= d;
</code></pre>
<p>完整写法要加上</p>
<pre><code class="language-Verilog">if (we)
    r &lt;= d;
else
    r &lt;= r;
</code></pre>
<p>不过对于缺少的分支，编译器会自动补充，所以可以不写</p>
<p>1位写使能D异步复位寄存器</p>
<pre><code class="language-Verilog">module d_ff(d, we, q, clk, rst);
    input d, we;
    output q;
    input clk, rst;

    reg r;

    assign q = r;
    always @(posedge clk or posedge rst)
        if (rst)
            r &lt;= 1'b0;
        else if (we)
            r &lt;= d;
endmodule
</code></pre>
<p>异步指的是<code>rst</code>在不论<code>clk</code>是否输入处于时钟沿时，只要被触发就会复位，同步即只有当处于时钟沿时<code>rst</code>被触发才复位</p>
<p>32位写使能寄存器</p>
<pre><code class="language-Verilog">module d32(d, we, q, clk);
    input [31:0] d;
    input        we;
    output [31:0] q;
    input clk;

    reg [31:0] r;

    assign q = r;
    always @(posedge clk)
        if (we)
            r &lt;= d;
endmodule
</code></pre>
<p>用<code>generate-for</code>建模。<code>Verilog-2001</code>标准</p>
<pre><code class="language-Verilog">module d32(d, we, q, clk);
    input [31:0] d;
    input        we;
    output [31:0] q;
    input clk;

    genvar i;

    generate
        for (i = 0; i &lt; 32; i = i + 1)
        begin: lable_d
            d_ff u_dff(d[i], we, q[i], clk);
        end
    endgenerate
endmodule
</code></pre>
<h2 id="_7">数据通路基础部件建模</h2>
<h3 id="pc">PC</h3>
<p>PC本质上就是一个32位的寄存器
- 因为每条指令占用4B，所以PC的b1与b0恒为0
- 32位寄存器可以优化为30位寄存器</p>
<blockquote>
<p>PC需要在系统复位后有一个确定的初值，即第1条指令的地址</p>
</blockquote>
<table>
<thead>
<tr>
<th>功能描述</th>
<th>Reset有效，寄存器置初值0x0000_0000。</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>信号名</td>
<td>方向</td>
<td>描述</td>
</tr>
<tr>
<td>CLK</td>
<td>I</td>
<td>MIPS-C处理器时钟</td>
</tr>
<tr>
<td>Reset</td>
<td>I</td>
<td>复位信号</td>
</tr>
<tr>
<td>D1[31:0]</td>
<td>I</td>
<td>32位输入</td>
</tr>
<tr>
<td>D0[31:0]</td>
<td>O</td>
<td>32位输出</td>
</tr>
</tbody>
</table>
<h3 id="npcjaljr">NPC（增加对<code>jal</code>和<code>jr</code>的支持）</h3>
<p>任何指令的第一步除了取指令外，还要更新PC，更新PC，首先是NPC要计算出下一条指令的地址</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>NPC执行的计算</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>顺序执行的指令<code>addu/subu/ori/lw/sw</code></td>
<td><code>PC+4</code></td>
<td></td>
</tr>
<tr>
<td>分支或跳转指令<code>beq/jal/jr</code></td>
<td><code>beq</code></td>
<td>与PC和<code>imm16</code>相关</td>
</tr>
<tr>
<td></td>
<td><code>jal</code></td>
<td>与PC和<code>imm26</code>相关</td>
</tr>
<tr>
<td></td>
<td><code>jr</code></td>
<td>与<code>rs</code>的<code>32</code>位值相关</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>信号名</th>
<th>方向</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PC[31:0]</code></td>
<td><code>Input</code></td>
<td>当前指令的地址</td>
</tr>
<tr>
<td><code>imm26[25:0]</code></td>
<td>I</td>
<td><code>jal</code>：<code>26</code>位偏移</td>
</tr>
<tr>
<td><code>A32[31:0]</code></td>
<td>I</td>
<td><code>jr</code>：保存的<code>32</code>位目标地址</td>
</tr>
<tr>
<td><code>NPC[31:0]</code></td>
<td><code>Output</code></td>
<td>下一条指令的地址</td>
</tr>
<tr>
<td><code>NPCOp[1:0]</code></td>
<td>I</td>
<td>NPC计算模式的控制码</td>
</tr>
</tbody>
</table>
<blockquote>
<p>NPC的输入信号不充分，因为<code>beq</code>可以不跳转</p>
</blockquote>
<table>
<thead>
<tr>
<th>信号名</th>
<th>方向</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PC[31:0]</code></td>
<td>I</td>
<td>当前指令的地址</td>
</tr>
<tr>
<td><code>imm26[25:0]</code></td>
<td>I</td>
<td><code>jal</code>：<code>26</code>位偏移</td>
</tr>
<tr>
<td><code>A32[31:0]</code></td>
<td>I</td>
<td><code>jr</code>：保存的<code>32</code>位目标地址</td>
</tr>
<tr>
<td><code>NPC[31:0]</code></td>
<td>O</td>
<td>下一条指令的地址</td>
</tr>
<tr>
<td><code>NPCOp[1:0]</code></td>
<td>I</td>
<td>NPC计算模式的控制码</td>
</tr>
<tr>
<td><code>Zero</code></td>
<td>I</td>
<td><code>rs</code>与<code>rt</code>相等的比较结果</td>
</tr>
</tbody>
</table>
<h3 id="_8">寄存器堆</h3>
<p>寄存器堆包含<strong>32个寄存器</strong>
- <code>RD1</code>和<code>RD2</code>：读出的2个寄存器值
- <code>WD</code>：写回的值</p>
<p>寄存器编号
- <code>A1</code>和<code>A2</code>：读取的<strong>第1个</strong>和<strong>第2个</strong>寄存器的<strong>编号</strong>
- <code>A3</code>：<strong>写入</strong>的寄存器<strong>编号</strong></p>
<p>写使能
- 并非所有的指令都要写寄存器，因此寄存器堆需要有<strong>写使能信号</strong><code>Wr</code>
- 在<strong>时钟上升沿</strong>时，如果<code>Wr=1</code>，则<code>WD3</code>才能被写入<strong>A3寄存器</strong>中</p>
<p>与<strong>指令存储</strong>类似，寄存器堆执行<strong>读出</strong>操作时可视为<strong>组合逻辑</strong>
- <code>A1/A2</code>有效一段时间后，<code>RD1/RD2</code>就输出正确的值</p>
<p><strong>寄存器堆的设计：</strong>
- 内部需要多少个32位寄存器：31个。<strong>0号寄存器</strong>采用接地的特殊设计
- 读出数据功能：<strong>32位31选1MUX</strong>
    - 2个读出端口是独立工作
- 写入数据功能：关键是<strong>写使能</strong>
    - 每个寄存器需要一个写使能
- <code>DEMUX</code>：<strong>分离器/解码器</strong>
    - N位编码产生<span class="arithmatex">\(2^N\)</span> 个输出
    - 有且仅有<strong>1个</strong>输出有效</p>
<p><code>Verilog</code>建模<code>RF</code>
- 用<strong>行为建模</strong>方法建模<code>RF</code>
- RF写入语句利用了<strong>RW是输入信号</strong>（即RW是变值）这一特性</p>
<pre><code class="language-Verilog">module RF(A1, A2, A3, WD, WE, clk, RD1, RD2);
    input A1, A2, WE, clk;
    input [31:0] WD, A3;
    output [31:0] RD1, RD2;

    reg [31:0] rf[31:1];

    always @(posedeg clk)
        if (WE)
            rf[A3] &lt;= WD;
    assign RD1 = (A1 == 0) ? 32'b0 : rf[A1];
    assign RD2 = (A2 == 0) ? 32'b0 : rf[A2];
endmodule
</code></pre>
<h3 id="_9">指令存储器</h3>
<p><strong>存储器</strong>可以理解为一个<strong>数组</strong>
- 存储器的地址就是数组的下标
- 给出存储器地址，存储器就输出<strong>对应单元</strong>的数据</p>
<p>执行<strong>读出</strong>操作时，存储器行为可视为<strong>组合逻辑</strong>
- 地址<code>A</code>有效一段时间（<strong>访问时间</strong>）后，数据<code>RD</code>就输出正确的值</p>
<h3 id="_10">数据存储器</h3>
<p>与<strong>指令存储器</strong>不同，<strong>数据存储器</strong>要支持<strong>写入</strong>
- <code>WD</code>：写入的数据</p>
<p>写使能
- 与寄存器堆类似，数据存储器需要有<strong>写使能信号</strong><code>Wr</code></p>
<p>存储器访问
- 读：<code>Wr=0</code>，<code>A</code>单元数据从<code>RD</code>输出，<strong>读出</strong>操作时可视为<strong>组合逻辑</strong>，即<code>A</code>有效一段时间后，<code>RD</code>就输出正确的值
- 写：在<strong>时钟上升沿</strong>时，如果<code>Wr=1</code>，则<code>WD</code>被写入<code>A</code>单元中</p>
<blockquote>
<p><strong>CLK只对写操作有效，对读操作无效</strong></p>
</blockquote>
<p>Verilog建模存储器
- 建模要点：内部是<code>reg</code>阵列
- 时序特点：写入的数据滞后<strong>1个cycle</strong>输出</p>
<pre><code class="language-Verilog">module MEM4KB(A, D1, We, D0, clk);
    input [9:0] A;
    input [31:0] D1;
    input We;
    output [31:0] D0;
    input clk;

    reg [31:0] array[1023:0];

    assign D0 = array[A];

    always @(posedge clk)
        if (We)
            array[A] &lt;= D1;
endmodule
</code></pre>
<h3 id="alu">ALU</h3>
<p><strong>ALU需求分析</strong></p>
<ul>
<li>
<p>计算需求：加、减、或、相等</p>
</li>
<li>
<p>相等</p>
<ul>
<li>方法1：设计独立的比较电路，例如利用<code>XOR</code>运算</li>
<li>方法2：执行<strong>减法</strong>运算，然后再判断结果是否<strong>全0</strong></li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>指令</th>
<th>RTL描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>addu</code></td>
<td><code>R[rd] &lt;- R[rs] + R[rt]; PC &lt;- PC + 4</code></td>
</tr>
<tr>
<td><code>subu</code></td>
<td><code>R[rd] &lt;- R[rs] – R[rt]; PC &lt;- PC + 4</code></td>
</tr>
<tr>
<td><code>ori</code></td>
<td><code>R[rt] &lt;- R[rs] \| zero_ext(imm16); PC &lt;- PC + 4</code></td>
</tr>
<tr>
<td><code>lw</code></td>
<td><code>R[rt] &lt;- MEM[R[rs] + sign_ext(imm16)]; PC &lt;- PC + 4</code></td>
</tr>
<tr>
<td><code>sw</code></td>
<td><code>MEM[R[rs] + sign_ext(imm16)] &lt;- R[rt]; PC &lt;- PC + 4</code></td>
</tr>
<tr>
<td><code>beq</code></td>
<td><code>if ( R[rs] == R[rt] ) then PC &lt;- PC + 4 + (sign_ext(imm16) \|\| 00) else PC &lt;- PC+4</code></td>
</tr>
</tbody>
</table>
<p><strong>减法运算</strong></p>
<p>计算Y=A-B，可以将其等价转换为Y=A+(-B)</p>
<p><span class="arithmatex">\(Y = A − B = A + \overline{B} + 1\)</span></p>
<p>可以利用<strong>加法器</strong>构造减法运算
- B输入取反
- <strong>Cin</strong>为1</p>
<p><strong>相等</strong></p>
<p>采用<strong>重用减法</strong>的思路：先执行减法，然后再判断结果是否全0</p>
<p><code>Zero</code>
- <code>0:A!=B</code>
- <code>1:A=B</code></p>
<p><strong>集成</strong></p>
<p>M1：0通道对应加法，1通道对应减法
M2：0通道对应加减法的结果，1通道对应OR的结果
Cin：如果执行加法则为0，如果执行减法则为1</p>
<p>VerilogHDL建模4位加法与减法</p>
<ul>
<li>4位加法（无overflow检测）</li>
</ul>
<pre><code class="language-Verilog">module add4(a, b, c);
    input [3:0] a, b;
    output [3:0] c;

    assign c = a + b;
endmodule
</code></pre>
<ul>
<li>4位减法（采用二进制补码运算方法，即加相反数）</li>
</ul>
<pre><code class="language-Verilog">module sub4(a, b, c);
    input [3:0] a, b;
    output [3:0] c;

    assign c = a + ~b + 1'b1; // assign c = a - b;
endmodule
</code></pre>
<p><code>VerilogHDL</code>建模4位ALU</p>
<ul>
<li>ALU的功能：加、减、或，加/减不支持<code>overflow</code></li>
<li><code>op</code>：<strong>控制信号</strong><ul>
<li>00~加法；01~减法；10~或；11~保留</li>
</ul>
</li>
<li>建模方法：利用assign语句实现加法与减法的2选1</li>
</ul>
<pre><code class="language-Verilog">define ALU_ADDU 2'b00
define ALU_SUBU 2'b01
define ALU_OR 2'b10

module ALU(a, b, c, op);
    input [3:0] a, b;
    input [1:0] op;
    output [3:0] c;

    assign c = (op == ALU_ADDU) ? (a + b) : // 加
                (op == ALU_SUBU) ? (a - b): // 减
                (op == ALU_OR) ? (a | b): // 或
                4'b0000; // 保留
endmodule
</code></pre>
<h2 id="_11">组装数据通路</h2>
<p>每条指令都有各自的功能需求，对应的功能部件及其连接关系也是不同的，<strong>数据通路</strong>就是<strong>所有功能部件及其连接关系的集合</strong></p>
<blockquote>
<p>如何根据RTL需求组装数据通路？
根据指令的RTL，选取和添加相应的部件，并建立正确的连接关系
重复上述过程</p>
</blockquote>
<p><strong>数据通路的共性阶段</strong></p>
<p>所有指令都需要：取指令（IF）</p>
<ul>
<li>PC驱动IM，IM输出指令</li>
<li>PC驱动NPC，NPC计算PC+4然后再输出至PC（目的是更新PC）</li>
</ul>
<blockquote>
<p>先假设所有指令都是<strong>顺序执行</strong>的</p>
</blockquote>
<p><strong>32位指令的分解</strong></p>
<p>将指令的32位信号分解为<strong>各个域</strong>
原理：类似于一路入户电分成多路室内电</p>
<p><strong>ADDU &amp; SUB</strong></p>
<p><code>ADDU：R[rd] &lt;- R[rs] + R[rt]</code>
- 硬件需求
    - 寄存器堆：2路读出信号，1路写回信号
    - <code>ALU</code>：执行加/减
- 连接
    - 寄存器堆的输出 &lt;-&gt; ALU的输入
    - 指令分解出的<code>rs/rs/rd</code> &lt;-&gt; 寄存器堆的<code>A1/A2/A3</code>
    - 寄存器堆的写使能 &lt;-&gt; <code>RFWr</code>；ALU的控制码 &lt;-&gt; <code>ALUOp</code></p>
<p><strong>ORI</strong></p>
<p><code>ORI：R[rt] &lt;- R[rs] OR zero_ext(imm16)</code>
- 硬件需求
    - <code>zero_ext()</code>：这是一个新的计算需求，原有的功能部件无法满足该需求
    - <code>EXT</code>：新增功能部件，用于将16位数进行0扩展为32位数</p>
<table>
<thead>
<tr>
<th>信号名称</th>
<th>方向</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imm16[15:0]</code></td>
<td>输入</td>
<td>16位输入</td>
</tr>
<tr>
<td><code>ext[31:0]</code></td>
<td>输入</td>
<td>32位0扩展结果</td>
</tr>
<tr>
<td>HDL建模</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<pre><code class="language-Verilog">module EXT (imm16, ext);
    input [15:0] imm16;
    output [31:0] ext;
    assign ext = {16{0}, imm16};
endmodule
</code></pre>
<p><strong>LW</strong></p>
<p><code>LW：R[rt] &lt;- MEM[R[rs] + sign_ext(imm16)]</code>
- 硬件需求
    - <code>sign_ext()</code>：这是一个新的计算需求，EXT无法满足该需求
    - <code>zero_ext()</code>与<code>sign_ext()</code>，其输入位数、输出位数及基本目的均相同
    - 根据“<strong>高内聚、低耦合</strong>”原则，由<code>EXT</code>同时实现两种扩展较为合理，由于<code>EXT</code>同时支持两种扩展，因此必须增加控制信号<code>EXTOp</code>
    - 需要<code>DM</code>
    - 需要回写<code>RF</code></p>
<table>
<thead>
<tr>
<th>信号名称</th>
<th>方向</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imm[15:0]</code></td>
<td>输入</td>
<td>16位输入</td>
</tr>
<tr>
<td><code>EXTOp</code></td>
<td>输入</td>
<td>扩展功能选择<code>0</code>:符号拓展<code>1</code>:无符号拓展</td>
</tr>
<tr>
<td><code>ext[31:0]</code></td>
<td>输出</td>
<td>32位0扩展结果</td>
</tr>
</tbody>
</table>
<p>HDL建模</p>
<pre><code class="language-Verilog">module EXT(imm, F, ext);
    input [15:0] imm;
    input F;
    output [31:0] ext;

    assign ext = F == 1 ? {16{0}, imm} : {16{imm[15]}, imm}
endmodule
</code></pre>
<p><strong>SW</strong>
<code>SW：MEM[R[rs] + sign_ext(imm16)] &lt;- R[rt]</code>
- 连接
    - RF的第2个输出 &lt;-&gt; DM的WD
    <strong>BEQ</strong>
    <code>if (R[rs] == R[rt])</code>
    <code>PC &lt;- Pc + 4 + sign_ext(imm16 || 00)</code>
    <code>else</code>
    <code>PC &lt;- PC + 4</code></p>
<p>本质上，<code>beq</code>涉及2大功能
- 功能1：寄存器比较
    - 让ALU执行减法，然后把比较结果<code>zero</code>传递给NPC
- 功能2：根据比较的结果计算PC
    - 这属于NPC的功能范畴
    对于NPC，现在需要知道当前指令是否是<code>beq</code>及<code>zero</code>的结果</p>
<table>
<thead>
<tr>
<th>信号名</th>
<th>方向</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PC[31:0]</code></td>
<td>I</td>
<td>32位输入</td>
</tr>
<tr>
<td><code>Imm[15:0]</code></td>
<td>I</td>
<td>16位立即数</td>
</tr>
<tr>
<td><code>Br</code></td>
<td>I</td>
<td>beq指令标志 1：当前指令是beq 0：当前指令不是beq</td>
</tr>
<tr>
<td><code>Zero</code></td>
<td>I</td>
<td>rs和rt相等标志 1：相等 0：不等</td>
</tr>
<tr>
<td><code>NPC[31:0]</code></td>
<td>O</td>
<td>32位输出</td>
</tr>
</tbody>
</table>
<p><img alt="NPC" src="../NPC.png" /></p>
<h3 id="_12">组装</h3>
<p><img alt="MIPS单周期数据通路" src="../MIPS%E5%8D%95%E5%91%A8%E6%9C%9F%E6%95%B0%E6%8D%AE%E9%80%9A%E8%B7%AF.png" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2321Tengpaz
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/Tengpaz" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "navigation.expand", "search.share"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>